{"version":3,"sources":["features/counter/Counter.module.css","features/map/helpers/balloon_pos.js","logo.svg","features/counter/counterSlice.js","features/map/constants/marker_descriptions.js","features/map/helpers/get_markers_data.js","features/map/MapSlice.js","features/map/helpers/marker_styles.js","features/map/MapMarker.js","features/map/MapBlock.js","features/map/MapCard.js","features/map/MapPanel.js","App.js","app/store.js","serviceWorker.js","index.js"],"names":["module","exports","getHintBaloonVerticalPosClass","y","getHintBaloonHorizontalPosStyle","x","markerWidth","markerOffset","mapWidth","K_BALLOON_WIDTH","Math","min","offset","leftX","rightX","mapOffset","max","width","left","marginLeft","getHintBottomOffsetClass","round","K_HINT_ARROW_WIDTH","__DEV__","console","error","global","counterSlice","createSlice","name","initialState","value","reducers","increment","state","decrement","incrementByAmount","action","payload","actions","markerDescriptions","size","height","origin","withText","color","imageClass","typesByPlaceType","bank","atm","lodging","church","tourist_attraction","embassy","fire_station","gas_station","gym","spa","stadium","hindu_temple","hospital","beauty_salon","jewelry_store","library","police","subway_station","transit_station","deg2rad","deg","PI","hasPinAndMarkersInRadius","pin","radius","marker","lat","lng","lat1","lon1","lat2","lon2","dLat","dLon","a","sin","cos","atan2","sqrt","getDistanceFromLatLonInKm","ptInSect","b","calcFilteredAndSortedMarkers","data","mapInfo","marginBounds","get","filter","m","rect","pt","mapSlice","markers","concat","map","place","idx","type","types","i","toString","padStart","geometry","location","id","title","description","join","address","vicinity","image","icon","number","search","center","bounds","zoom","pinLocation","destMarker","openBalloonIndex","hoverMarkerIndex","tableRowsInfo","hoveredRowIndex","visibleRowFirst","visibleRowLast","maxVisibleRows","query","markersData","dataFiltered","changeBounds","setPinLocation","setRadius","clearPinLocation","changeSearch","selectDestination","clearDestination","selectMarkers","selectMapInfo","selectPinLocation","selectRadius","selectSearch","selectDestMarker","textStyle_","textAlign","marginTop","fontWeight","fontSize","K_SCALE_NORMAL","makeStyles","theme","saturate","grayscale","contrast","brightness","blur","invert","sepia","huerotate","MapMarker","props","_onShowBallonStateChange","alive","onShowBallonStateChange","_onHoverStateChange","onHoverStateChange","_onMouseEnterContent","$onMouseAllow","_onMouseLeaveContent","_onCloseClick","onCloseClick","this","scale","$hover","showBallon","hoveredAtTable","markerHolderStyle","top","position","cursor","getMarkerHolderStyle","markerStyle","sizeOriginX","sizeOriginY","willChange","backgroundSize","backgroundRepeat","transition","WebkitTransition","transformOrigin","WebkitTransformOrigin","getMarkerStyle","zIndexStyle","zIndex","textStyle","markerTextStyle","colorHex","ceil","colorHTML","calcMarkerTextStyle","showHint","hoverState","showBallonState","$geoService","getWidth","mapHeight","getHeight","markerDim","$getDimensions","$dimensionKey","hintBaloonHorizontalPosStyle","hintBaloonVerticalPosClass","hintBalloonBottomOffsetClass","noTransClass","noTransBalloonClass","styleMarkerMarker","imageStyle","transform","WebkitTransform","WebkitFilter","calcMarkerMarkerStyle","backgroundImage","style","onClick","className","cx","hintType","isHighlight","onMouseEnter","onMouseLeave","prevProps","setTimeout","Component","defaultProps","pinMarker","circle","directionsService","directionsDisplay","googleMaps","getMapOptions","maps","mapTypeControl","mapTypeId","MapTypeId","SATELLITE","mapTypeControlOptions","MapTypeControlStyle","HORIZONTAL_BAR","ControlPosition","BOTTOM_CENTER","mapTypeIds","ROADMAP","HYBRID","TERRAIN","MapBlock","useSelector","dispatch","useDispatch","Markers","index","inRadius","matched","split","reduce","acc","s","includes","matchSearch","ev","log","parseFloat","setPosition","setCenter","setVisible","request","destination","travelMode","TravelMode","DRIVING","route","response","status","DirectionsStatus","OK","setDirections","setOptions","suppressMarkers","preserveViewport","bootstrapURLKeys","key","pick","margin","hoverDistance","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","DirectionsService","polylineOptionsActual","Polyline","strokeColor","strokeOpacity","strokeWeight","Marker","url","Circle","fillColor","fillOpacity","DirectionsRenderer","polylineOptions","setMap","options","useStyles","root","bullet","display","card","marginBottom","paddingBottom","MapCard","onMarkerTagClick","classes","Card","variant","background","CardContent","Grid","container","spacing","item","xs","Typography","component","pos","Button","flexGrow","paper","padding","palette","text","secondary","paperCenterTight","input","iconButton","MapPanel","markersInRadius","Cards","totalMarkers","length","totalFiltered","Paper","InputLabel","fullWidth","Input","placeholder","onChange","e","target","startAdornment","InputAdornment","IconButton","aria-label","InputBase","inputProps","endAdornment","overflowY","backgroundColor","App","overflow","right","configureStore","reducer","counter","counterReducer","mapReducer","Boolean","window","hostname","match","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6d055cb4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Counter_row__1C_4f\",\"value\":\"Counter_value__1d0te\",\"button\":\"Counter_button__1xpSV\",\"textbox\":\"Counter_textbox__3ODaX\",\"asyncButton\":\"Counter_asyncButton__2UAr3 Counter_button__1xpSV\"};","/* global __DEV__ */\nglobal.__DEV__ = true\n\nexport function getHintBaloonVerticalPosClass(y /*, mapHeight*/) {\n  const K_MAX_BALLOON_HEIGHT = 240;\n  return y > K_MAX_BALLOON_HEIGHT ? 'hint--top' : 'hint--bottom';\n}\n\nexport function getHintBaloonHorizontalPosStyle(x, markerWidth, markerOffset, mapWidth) {\n  const K_BALLOON_WIDTH_BASE = 250;\n  // offset from map side\n  const K_BALLOON_MAP_OFFSET = 10;\n  // balloon with not more than map width\n  const K_BALLOON_WIDTH = Math.min(K_BALLOON_WIDTH_BASE, mapWidth - 2 * K_BALLOON_MAP_OFFSET);\n  // default ballon offset from arrow center i want\n  const K_BALLOON_DEFAULT_OFFSET = K_BALLOON_WIDTH * 0.15;\n  // from corner\n  const offset = -K_BALLOON_DEFAULT_OFFSET + markerWidth * 0.5;\n  // overflow in px (marker assymetric)\n  const leftX = x + offset - markerWidth * markerOffset;\n  const rightX = leftX + K_BALLOON_WIDTH;\n  // recalc if overflow\n  const mapOffset = offset + Math.min(0, (mapWidth - K_BALLOON_MAP_OFFSET) - rightX) + Math.max(0, K_BALLOON_MAP_OFFSET - leftX);\n\n  const K_BALLOON_WIDTH_STYLE = {\n    width: `${K_BALLOON_WIDTH}px`,\n    left: `${mapOffset}px`,\n    marginLeft: '0px'\n  };\n  return K_BALLOON_WIDTH_STYLE;\n}\n\nexport function getHintBottomOffsetClass(markerWidth, markerOffset) {\n  const K_HINT_ARROW_WIDTH = 12;\n  const offset = Math.round(-(markerWidth / 2 + K_HINT_ARROW_WIDTH / 2 - markerOffset * markerWidth));\n  if (__DEV__) {\n    if (offset < -40 || offset > 40) {\n      console.error('HintBottomOffset is out of range, extend range at sass/markers/map_marker.sass'); // eslint-disable-line no-console\n    }\n  }\n  // classes generated at sass/markers/map_marker.sass\n  return 'map-marker--hint-bottom-delta-' + offset;\n}\n","export default __webpack_public_path__ + \"static/media/logo.db36153e.svg\";","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const counterSlice = createSlice({\r\n  name: 'counter',\r\n  initialState: {\r\n    value: 0,\r\n  },\r\n  reducers: {\r\n    increment: state => {\r\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\r\n      // doesn't actually mutate the state because it uses the Immer library,\r\n      // which detects changes to a \"draft state\" and produces a brand new\r\n      // immutable state based off those changes\r\n      state.value += 1;\r\n    },\r\n    decrement: state => {\r\n      state.value -= 1;\r\n    },\r\n    incrementByAmount: (state, action) => {\r\n      state.value += action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\r\n\r\n// The function below is called a thunk and allows us to perform async logic. It\r\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\r\n// will call the thunk with the `dispatch` function as the first argument. Async\r\n// code can then be executed and other actions can be dispatched\r\nexport const incrementAsync = amount => dispatch => {\r\n  setTimeout(() => {\r\n    dispatch(incrementByAmount(amount));\r\n  }, 1000);\r\n};\r\n\r\n// The function below is called a selector and allows us to select a value from\r\n// the state. Selectors can also be defined inline where they're used instead of\r\n// in the slice file. For example: `useSelector((state) => state.counter.value)`\r\nexport const selectCount = state => state.counter.value;\r\n\r\nexport default counterSlice.reducer;\r\n","/*\n * marker visual parameters\n * image param is more prior than imageClass if both defined\n */\n\nconst markerDescriptions = [\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#053a88',\n    imageClass: 'mark_icon_rect_blue'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#887805',\n    imageClass: 'mark_icon_rect_dark_yellow'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#880511',\n    imageClass: 'mark_icon_rect_dark_red'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#740588',\n    imageClass: 'mark_icon_rect_dark_purple'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#3d0588',\n    imageClass: 'mark_icon_rect_dark_purple_blue'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#88055a',\n    imageClass: 'mark_icon_rect_dark_pink'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#058821',\n    imageClass: 'mark_icon_rect_dark_lime'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#05886a',\n    imageClass: 'mark_icon_rect_dark_green'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#0d0588',\n    imageClass: 'mark_icon_rect_dark_blue'\n  },\n  {\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    withText: true,\n    color: '#057088',\n    imageClass: 'mark_icon_rect_cyan'\n  },\n  {\n    size: {width: 44, height: 62},\n    origin: {x: 0.37, y: 1},\n    withText: true,\n    color: '#dcaf09',\n    imageClass: 'mark_icon_yellow'\n  },\n  {\n    size: {width: 44, height: 62},\n    origin: {x: 0.37, y: 1},\n    withText: true,\n    color: '#ca0a1c',\n    imageClass: 'mark_icon_red'\n  }\n];\n\nexport default markerDescriptions;\n","import markerDescriptions from '../constants/marker_descriptions'\nimport bank from '../data/bank.json'\nimport church from '../data/church.json'\nimport embassy from '../data/embassy.json'\nimport fire_station from '../data/fire_station.json'\nimport gas_station from '../data/gas_station.json'\nimport gym from '../data/gym.json'\nimport hindu_temple from '../data/hindu_temple.json'\nimport hospital from '../data/hospital.json'\nimport jewelry_store from '../data/jewelry_store.json'\nimport library from '../data/library.json'\nimport police from '../data/police.json'\nimport subway_station from '../data/subway_station.json'\n\nconst typesByPlaceType = {\n  bank: 0,\n  atm: 0,\n  lodging: 0,\n  church: 1,\n  tourist_attraction:1,\n  embassy: 2,\n  fire_station: 3,\n  gas_station: 4,\n  gym: 5,\n  spa: 5,\n  stadium: 5,\n  hindu_temple: 6,\n  hospital: 7,\n  beauty_salon: 7,\n  jewelry_store: 8,\n  library: 9,\n  police: 10,\n  subway_station: 11,\n  transit_station: 11\n}\n\nexport function getMarkers() {\n  const allPlaces = bank.concat(church, embassy, fire_station, gas_station, gym, hindu_temple, hospital, jewelry_store, library, police, subway_station)\n  return allPlaces.map((place, idx) => {\n    const type = typesByPlaceType[place.types[0]]\n    const i = (idx % 20).toString().padStart(2, '0')\n    const {lat, lng}= place.geometry.location\n    return {\n      id: idx,\n      lat,\n      lng,\n      title: place.name,\n      description: place.types.join(\", \"),\n      address: place.vicinity,\n      image: place.icon,\n      icon: place.icon,\n      type, // i % 4,\n      color: markerDescriptions[type].color,\n      number: type > 9 ? `${i}` : `#${type}${i}`,\n    };\n  })\n}\n\n// https://stackoverflow.com/questions/27928/calculate-distance-between-two-latitude-longitude-points-haversine-formula#:~:text=from%20math%20import%20cos%2C%20asin,*R*asin...\nfunction getDistanceFromLatLonInKm(lat1,lon1,lat2,lon2) {\n  var R = 6371; // Radius of the earth in km\n  var dLat = deg2rad(lat2-lat1);  // deg2rad below\n  var dLon = deg2rad(lon2-lon1); \n  var a = \n    Math.sin(dLat/2) * Math.sin(dLat/2) +\n    Math.cos(deg2rad(lat1)) * Math.cos(deg2rad(lat2)) * \n    Math.sin(dLon/2) * Math.sin(dLon/2)\n    ; \n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n  var d = R * c; // Distance in km\n  return d;\n}\n\nfunction deg2rad(deg) {\n  return deg * (Math.PI/180)\n}\n\nexport function hasPinAndMarkersInRadius(pin, radius) {\n  return (marker) => (!pin.lat && !pin.lng) || getDistanceFromLatLonInKm(pin.lat, pin.lng, marker.lat, marker.lng) <= radius\n}\n\nexport function matchSearch(search) {\n  return (marker) => {\n    const searches = search.split(' ')\n    return searches.reduce((acc, s) => {\n      return acc && (marker.title.includes(s) || marker.description.includes(s) || marker.address.includes(s) || marker.number.toString().includes(s))\n    }, true)\n  }\n}","import { createSlice } from '@reduxjs/toolkit';\nimport { getMarkers } from './helpers/get_markers_data'\n\nconst K_LAST_VISIBLE_ROW_AT_SERVER_RENDERING = 5;\n\nfunction ptInSect(x, a, b) {\n  return (x - a) * (x - b) <= 0;\n}\n\nfunction ptInRect(pt, rect) {\n  return ptInSect(pt.get('lat'), rect.get(0), rect.get(2)) && ptInSect(pt.get('lng'), rect.get(1), rect.get(3));\n}\n\n// use rbush https://github.com/mourner/rbush if you have really big amount of points\nfunction calcFilteredAndSortedMarkers(data, mapInfo) {\n  const marginBounds = mapInfo && mapInfo.get('marginBounds');\n\n  if (!data || !marginBounds) {\n    return []\n  }\n\n  return data\n    .filter(m => ptInRect(m, marginBounds));\n}\n\n\nexport const mapSlice = createSlice({\n  name: 'map',\n  initialState: {\n    markers: getMarkers(),\n    search: '',\n\n    mapInfo: {\n      center: { lat:13.732078174536813, lng: 100.57683593651822 } ,\n      // set for server rendering for popular screen res\n      bounds: [60.325132160343145, 29.13415407031249, 59.546382183279206, 31.54015992968749],\n      marginBounds: [60.2843135300829, 29.21655153124999, 59.58811868963835, 31.45776246874999],\n      zoom: 14\n    },\n\n    pinLocation: { lat: '', lng: '' },\n    radius: 1, // km\n    destMarker: null,\n\n    openBalloonIndex: -1,\n\n    hoverMarkerIndex: -1,\n\n    tableRowsInfo: {\n      hoveredRowIndex: -1,\n      visibleRowFirst: 0,\n      visibleRowLast: K_LAST_VISIBLE_ROW_AT_SERVER_RENDERING,\n      maxVisibleRows: K_LAST_VISIBLE_ROW_AT_SERVER_RENDERING\n    }\n  },\n  reducers: {\n    query: (state, action) => {\n      const markersData = action.payload\n      state.data = markersData\n      state.dataFiltered = calcFilteredAndSortedMarkers(state.data, state.mapInfo)\n    },\n    changeBounds: (state, action)=> {\n      const {center, zoom, bounds, marginBounds} = action.payload\n      state.mapInfo = { ...state.mapInfo, center, zoom, bounds, marginBounds }\n      state.openBalloonIndex = -1\n      state.dataFiltered = calcFilteredAndSortedMarkers(state.data, state.mapInfo)\n    },\n    pinLocation: (state, action) => {\n      const { lat, lng } = action.payload\n      state.pinLocation = { lat: lat.toString(), lng: lng.toString() }\n    },\n    setPinLocation: (state, action) => {\n      const { lat, lng } = action.payload\n      state.pinLocation = { lat, lng }\n    },\n    setRadius: (state, action) => {\n      const radius = action.payload\n      state.radius = radius\n    },\n    clearPinLocation: (state) => {\n      state.pinLocation = { lat: '', lng: '' }\n    },\n    changeSearch: (state, action) => {\n      state.search = action.payload\n    },\n    selectDestination: (state, action) => {\n      const marker = action.payload\n      state.destMarker = marker\n    },\n    clearDestination: (state) => {\n      state.destMarker = null\n    }\n  },\n});\n\nexport const selectMarkers = state => state.map.markers\n\nexport const selectMapInfo = state => state.map.mapInfo\n\nexport const selectPinLocation = state => state.map.pinLocation\n\nexport const selectRadius = state => state.map.radius\n\nexport const selectSearch = state => state.map.search\n\nexport const selectDestMarker = state => state.map.destMarker\n\nexport const { query, changeBounds, pinLocation, setRadius, setPinLocation, changeSearch, clearPinLocation, selectDestination, clearDestination } = mapSlice.actions;\n\nexport default mapSlice.reducer;\n\n// export default function map(state = defaultMapState(), {type: exampleActionType, ...data}) {\n//   switch (exampleActionType) {\n//     case QUERY_MAP:\n//       const {markersData} = data;\n//       return state\n//         .set('data', markersData)\n//         .update(s => s.set('dataFiltered', calcFilteredAndSortedMarkers(s.get('data'), s.get('mapInfo'))));\n\n//     case CHANGE_BOUNDS_MAP:\n//       const {center, zoom, bounds, marginBounds} = data;\n//       return state\n//         .update('mapInfo', mapInfo => mapInfo.merge({center, zoom, bounds, marginBounds}))\n//         .set('openBalloonIndex', -1)\n//         .update(s => s.set('dataFiltered', calcFilteredAndSortedMarkers(s.get('data'), s.get('mapInfo'))));\n\n//     case TABLE_VISIBLE_ROWS_CHANGE_MAP:\n//       const {visibleRowFirst, visibleRowLast, maxVisibleRows} = data;\n//       return state\n//         .update('tableRowsInfo', tableRowsInfo => tableRowsInfo.merge({visibleRowFirst, visibleRowLast, maxVisibleRows}))\n//         .set('openBalloonIndex', -1);\n\n//     case TABLE_HOVERED_ROWS_INDEX_CHANGE_MAP:\n//       const {hoveredRowIndex} = data;\n//       return state\n//         .update('tableRowsInfo', tableRowsInfo => tableRowsInfo.merge({hoveredRowIndex}));\n\n//     case MARKER_HOVER_INDEX_CHANGE_MAP:\n//       const {hoverMarkerIndex} = data;\n//       return state\n//         .set('hoverMarkerIndex', hoverMarkerIndex);\n\n//     case SHOW_BALLON_MAP:\n//       const {openBalloonIndex} = data;\n//       return state\n//         .set('openBalloonIndex', openBalloonIndex === state.get('openBalloonIndex') ? -1 : openBalloonIndex);\n\n//     default:\n//       return state;\n//   }\n// }\n","\nexport function getMarkerHolderStyle(size, origin) {\n  const left = -size.width * origin.x;\n  const top = -size.height * origin.y;\n  return {\n    position: 'absolute',\n    width: size.width,\n    height: size.height,\n    left: left,\n    top: top,\n    cursor: 'pointer'\n  };\n}\n\nexport function getMarkerStyle(size, origin) {\n  const sizeOriginX = size.width * origin.x;\n  const sizeOriginY = size.height * origin.y;\n\n  return {\n    position: 'absolute',\n    width: size.width,\n    height: size.height,\n    left: 0,\n    top: 0,\n    willChange: 'transform', // it looks like this setting make firefox random marker movements smaller\n    backgroundSize: `${size.width}px ${size.height}px`,\n    backgroundRepeat: 'no-repeat',\n    // transition: 'transform 0.25s ease',\n    transition: 'transform 0.25s cubic-bezier(0.485, 1.650, 0.545, 0.835)',\n    WebkitTransition: '-webkit-transform 0.25s cubic-bezier(0.485, 1.650, 0.545, 0.835)',\n    transformOrigin: `${sizeOriginX}px ${sizeOriginY}px`,\n    WebkitTransformOrigin: `${sizeOriginX}px ${sizeOriginY}px`\n  };\n}\n\nconst textStyle_ = {\n  width: '100%',\n  textAlign: 'center',\n  marginTop: 10,\n  fontWeight: 'bold',\n  fontSize: '18px',\n  color: 'black'\n};\n\nexport function getMarkerTextStyle() {\n  return textStyle_;\n}\n","\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types'\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport cx from 'classnames';\n\nimport {getHintBottomOffsetClass, getHintBaloonVerticalPosClass, getHintBaloonHorizontalPosStyle} from './helpers/balloon_pos.js';\nimport {getMarkerHolderStyle, getMarkerStyle, getMarkerTextStyle} from './helpers/marker_styles.js';\n\nconst K_HINT_HTML_DEFAULT_Z_INDEX = 1000000;\nconst K_SCALE_HOVER = 1;\nconst K_SCALE_TABLE_HOVER = 1;\nconst K_SCALE_NORMAL = 0.65;\nconst K_MIN_CONTRAST = 0.4;\nconst K_MAX_COLOR_VALUE = 0;\nconst K_MIN_COLOR_VALUE = 8;\nconst K_TRANS_DELAY = 30;\n\n/*Filter styles*/\nconst useStyles = makeStyles((theme) => ({\n  saturate: {\n    filter: 'saturate(3)',\n  },\n  grayscale: {\n    filter: 'grayscale(100%)',\n  },\n  contrast: {\n    filter: 'contrast(160%)',\n  },\n  brightness: {\n    filter: 'brightness(0.25)',\n  },\n  blur: {\n    filter: 'blur(3px)',\n  },\n  invert: {\n    filter: 'invert(100%)',\n  },\n  sepia: {\n    filter: 'sepia(100%)'\n  },\n  huerotate: {\n    filter: 'hue-rotate(180deg)'\n  }\n}))\n\nfunction calcMarkerMarkerStyle(scale, zIndexStyle, markerStyle, imageStyle) {\n  const contrast = K_MIN_CONTRAST + (1 - K_MIN_CONTRAST) * Math.min(scale / K_SCALE_NORMAL, 1);\n\n  return {\n    transform: `scale(${scale} , ${scale})`,\n    WebkitTransform: `scale(${scale} , ${scale})`,\n    filter: `contrast(${contrast})`,\n    WebkitFilter: `contrast(${contrast})`,\n    ...markerStyle,\n    ...zIndexStyle,\n    ...imageStyle\n  };\n}\n\nfunction calcMarkerTextStyle(scale, markerTextStyle) {\n  const colorV = Math.ceil(K_MIN_COLOR_VALUE + (K_MAX_COLOR_VALUE - K_MIN_COLOR_VALUE) * Math.min(scale / K_SCALE_NORMAL, 1));\n  const colorHex = colorV.toString(16);\n  const colorHTML = `#${colorHex}${colorHex}${colorHex}`;\n\n  return {\n    ...markerTextStyle,\n    color: colorHTML\n  };\n}\n\nexport {K_SCALE_NORMAL};\n\nexport class MapMarker extends Component {\n  static propTypes = {\n    $hover: PropTypes.bool,\n    $dimensionKey: PropTypes.any,\n    $getDimensions: PropTypes.func,\n    $geoService: PropTypes.any,\n    $onMouseAllow: PropTypes.func,\n\n    marker: PropTypes.any,\n    hoveredAtTable: PropTypes.bool,\n    scale: PropTypes.number,\n    showBallon: PropTypes.bool,\n    onCloseClick: PropTypes.func,\n    showBallonState: PropTypes.bool.isRequired,\n    onShowBallonStateChange: PropTypes.func.isRequired,\n\n    // animation helpers\n    hoverState: PropTypes.bool.isRequired,\n    onHoverStateChange: PropTypes.func.isRequired,\n\n    size: PropTypes.any,\n    origin: PropTypes.any,\n    imageClass: PropTypes.string,\n    image: PropTypes.string,\n    withText: PropTypes.bool,\n    isHighlight: PropTypes.bool,\n    hintType: PropTypes.string\n  };\n\n  static defaultProps = {\n    scale: K_SCALE_NORMAL,\n    hoverState: false,\n    showBallonState: false,\n    withText: false,\n    isHighlight: true,\n    size: {width: 62, height: 60},\n    origin: {x: 15 / 62, y: 1},\n    imageClass: 'map-marker__marker--big',\n    hintType: 'hint--info'\n  };\n\n\n  constructor(props) {\n    super(props);\n    this.alive = true;\n  }\n\n  _onShowBallonStateChange = (...args) => {\n    if (!this.alive) return;\n    this.props.onShowBallonStateChange(...args);\n  }\n\n  _onHoverStateChange = (...args) => {\n    if (!this.alive) return;\n    this.props.onHoverStateChange(...args);\n  }\n\n  _onMouseEnterContent = (/*e*/) => {\n    this.props.$onMouseAllow(false); // disable mouse move hovers\n  }\n\n  _onMouseLeaveContent = (/*e*/) => {\n    this.props.$onMouseAllow(true); // enable mouse move hovers\n  }\n\n  _onCloseClick = () => {\n    if (this.props.onCloseClick) {\n      this.props.onCloseClick();\n    }\n  }\n\n  componentWillUnmount() {\n    // if (this.props.onCloseClick) {\n    //   this.props.onCloseClick();\n    // }\n    this.alive = false;\n  }\n\n  // no optimizations at all\n  render() {\n    // TODO add http://schema.org/docs/gs.html\n    let scale = this.props.$hover || this.props.showBallon ? K_SCALE_HOVER : this.props.scale;\n    scale = this.props.hoveredAtTable ? K_SCALE_TABLE_HOVER : scale;\n\n    const markerHolderStyle = getMarkerHolderStyle(this.props.size, this.props.origin);\n    const markerStyle = getMarkerStyle(this.props.size, this.props.origin);\n\n    const zIndexStyle = {\n      zIndex: Math.round(scale * 10000) - (this.props.showBallon ? 20 : 0) + (this.props.$hover ? K_HINT_HTML_DEFAULT_Z_INDEX : 0) // balloon\n    };\n\n    const textStyleDef = getMarkerTextStyle();\n    const textStyle = calcMarkerTextStyle(scale, textStyleDef);\n\n    const showHint = this.props.hoverState || this.props.showBallonState; // || this.props.hoveredAtTable;\n\n    // baloon position calc\n    const mapWidth = this.props.$geoService.getWidth();\n    const mapHeight = this.props.$geoService.getHeight();\n    const markerDim = this.props.$getDimensions(this.props.$dimensionKey);\n\n    const hintBaloonHorizontalPosStyle = getHintBaloonHorizontalPosStyle(markerDim.x, this.props.size.width, this.props.origin.x, mapWidth);\n    const hintBaloonVerticalPosClass = getHintBaloonVerticalPosClass(markerDim.y, mapHeight);\n\n    const hintBalloonBottomOffsetClass = getHintBottomOffsetClass(this.props.size.width, this.props.origin.x);\n\n    // set baloon position at first and then animate (it must be some lib for react animations)\n    const noTransClass = this.props.$hover === true && this.props.hoverState !== true ? 'hint--notrans' : '';\n    const noTransBalloonClass = this.props.showBallon === true && this.props.showBallonState !== true ? 'hint--notrans' : '';\n\n    const imageClass = this.props.image ? '' : this.props.imageClass;\n    const imageStyle = this.props.image ? {\n      backgroundImage: `url(${this.props.image})`\n    } : null;\n\n    const styleMarkerMarker = calcMarkerMarkerStyle(scale, zIndexStyle, markerStyle, imageStyle);\n\n    // console.log(this.props.marker)\n    // css hints library https://github.com/istarkov/html-hint\n    return (\n      <div\n        style={markerHolderStyle}\n        onClick={this.props.onClick}\n        className={cx('map-marker hint hint--html',\n          this.props.hintType,\n          hintBalloonBottomOffsetClass,\n          noTransClass, noTransBalloonClass, hintBaloonVerticalPosClass,\n          this.props.showBallon ? 'hint--balloon' : '',\n          showHint ? 'hint--always' : 'hint--hidden')}>\n        <div\n          style={{ ...styleMarkerMarker, filter: this.props.isHighlight ? 'none' : 'grayscale(100%)'}}\n          className={cx('map-marker__marker', imageClass)}>\n          {this.props.withText ?\n            <div style={textStyle}>\n            {this.props.marker.number}\n            </div>\n            :\n            <div/>}\n        </div>\n        <div\n          style={hintBaloonHorizontalPosStyle}\n          className={cx('hint__content map-marker-hint', this.props.showBallon ? '' : 'noevents')}\n          onMouseEnter={this._onMouseEnterContent}\n          onMouseLeave={this._onMouseLeaveContent}>\n          <div\n            onClick={this._onCloseClick}\n            className={cx('map-marker-hint__close-button', this.props.showBallon ? 'map-marker-hint__close-button--visible' : '')}>\n            close\n          </div>\n\n          <div className=\"map-marker-hint__title\">\n            <strong>{this.props.marker.title}</strong>\n          </div>\n          <div className=\"map-marker-hint__address\">\n            {this.props.marker.address}\n          </div>\n\n          <div className={cx('map-marker-hint__content', this.props.showBallon ? 'map-marker-hint__content--visible' : '')}>\n            {this.props.marker.description}\n          </div>\n\n          <div>\n            <a className={cx('map-marker-hint__ap-link', this.props.showBallon ? 'map-marker-hint__ap-link--hidden' : '')}>Click to view more info</a>\n          </div>\n\n        </div>\n      </div>\n    );\n  }\n\n  componentDidUpdate(prevProps) {\n\n    if (prevProps.$hover !== this.props.$hover) {\n      setTimeout(() => this._onHoverStateChange(this.props.$hover), K_TRANS_DELAY);\n    }\n\n    if (prevProps.showBallon !== this.props.showBallon) {\n      setTimeout(() => this._onShowBallonStateChange(this.props.showBallon), K_TRANS_DELAY);\n    }\n  }\n}\n","\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport GoogleMap from 'google-map-react';\nimport {\n  query,\n  changeBounds,\n  pinLocation,\n  selectMarkers,\n  selectMapInfo,\n  selectRadius,\n  selectPinLocation,\n  selectDestination,\n  selectDestMarker,\n  selectSearch\n} from './MapSlice';\nimport markerDescriptions from './constants/marker_descriptions';\nimport { MapMarker } from './MapMarker'\nimport { hasPinAndMarkersInRadius, matchSearch } from './helpers/get_markers_data';\nimport {\n  pick\n} from 'ramda';\n\nconst K_MARGIN_TOP = 30;\nconst K_MARGIN_RIGHT = 30;\nconst K_MARGIN_BOTTOM = 30;\nconst K_MARGIN_LEFT = 30;\nconst K_HOVER_DISTANCE = 30;\nlet pinMarker, circle, directionsService, directionsDisplay, googleMap, googleMaps\n\n\nconst getMapOptions = (maps) => {\n  return {\n    // streetViewControl: false,\n    // scaleControl: true,\n    // fullscreenControl: false,\n    // styles: [\n    //   {\n    //     featureType: \"poi.business\",\n    //     elementType: \"labels\",\n    //     stylers: [\n    //       {\n    //         visibility: \"off\",\n    //       },\n    //     ],\n    //   },\n    // ],\n    // gestureHandling: \"greedy\",\n    // disableDoubleClickZoom: true,\n    // minZoom: 11,\n    // maxZoom: 18,\n    mapTypeControl: true,\n    mapTypeId: maps.MapTypeId.SATELLITE,\n    mapTypeControlOptions: {\n      style: maps.MapTypeControlStyle.HORIZONTAL_BAR,\n      position: maps.ControlPosition.BOTTOM_CENTER,\n      mapTypeIds: [\n        maps.MapTypeId.ROADMAP,\n        maps.MapTypeId.SATELLITE,\n        maps.MapTypeId.HYBRID,\n        maps.MapTypeId.TERRAIN,\n        \n      ],\n    },\n    // zoomControl: true,\n    // clickableIcons: false,\n  };\n}\n\nexport function MapBlock() {\n  const markers = useSelector(selectMarkers);\n  const mapInfo = useSelector(selectMapInfo);\n  const radius = useSelector(selectRadius)\n  const pin = useSelector(selectPinLocation)\n  const destMarker = useSelector(selectDestMarker)\n  const search = useSelector(selectSearch)\n  const dispatch = useDispatch();\n  // const {rowFrom, rowTo} = getRealFromTo(this.props.visibleRowFirst, this.props.visibleRowLast, this.props.maxVisibleRows, this.props.markers.size);\n\n  const Markers = markers\n    .map((marker, index) => {\n      const inRadius = hasPinAndMarkersInRadius(pin, radius)(marker)\n      const matched = matchSearch(search)(marker)\n      const isHighlight = (search == '' && ((!pin.lat && !pin.lng) || (pin.lat && pin.lng && inRadius))) || (search && pin.lat && pin.lng && inRadius && matched)\n      return <MapMarker\n        // required props\n        key={marker.id}\n        lat={marker.lat}\n        lng={marker.lng}\n        // any user props\n        // showBallon={index + rowFrom === this.props.openBallonIndex}\n        // onCloseClick={this._onBalloonCloseClick}\n        // hoveredAtTable={index + rowFrom === this.props.hoveredRowIndex}\n        // scale={getScale(index + rowFrom, this.props.visibleRowFirst, this.props.visibleRowLast, K_SCALE_NORMAL)}\n        isHighlight={isHighlight}\n        onClick={() => dispatch(selectDestination(marker))}\n        {...markerDescriptions[marker.type]}\n        onHoverStateChange={(ev) => console.log(ev)}\n        marker={marker} />\n    });\n  \n  const markerHolderClassName = 'marker-holder-class-name';\n  if (pinMarker && circle && pin.lat && pin.lng && radius) {\n    const location = { lat: parseFloat(pin.lat), lng: parseFloat(pin.lng) }\n    pinMarker.setPosition(location)\n    circle.setCenter(location)\n    circle.setRadius(radius * 1000)\n    pinMarker.setVisible(true)\n    circle.setVisible(true)\n  } else if (pinMarker && circle) {\n    pinMarker.setVisible(false)\n    circle.setVisible(false)\n  }\n\n  if (pin.lat && pin.lng && destMarker) {\n      const source = { lat: parseFloat(pin.lat), lng: parseFloat(pin.lng) }\n      const destination = { lat: parseFloat(destMarker.lat), lng: parseFloat(destMarker.lng) }\n\n      var request = {\n        origin: source,\n        destination: destination,\n        travelMode: googleMaps.TravelMode.DRIVING\n      };\n      directionsService.route(request, function(response, status) {\n        if (status == googleMaps.DirectionsStatus.OK) {\n          directionsDisplay.setDirections(response);\n          directionsDisplay.setOptions({\n            suppressMarkers: true,\n            preserveViewport: true\n          });\n        }\n      });\n  }\n\n  return (\n    <GoogleMap\n      bootstrapURLKeys={{ key: \"AIzaSyDqMwKYue-hdoQrclYbxhh2TrvisGIe7CE\" }}\n      center={mapInfo.center}\n      zoom={mapInfo.zoom}\n      onClick={(ev) => dispatch(pinLocation(pick([\"lat\", \"lng\"], ev)))}\n      // onBoundsChange={this._onBoundsChange}\n      // onChildClick={this._onChildClick}\n      // onChildMouseEnter={this._onChildMouseEnter}\n      // onChildMouseLeave={this._onChildMouseLeave}\n      margin={[K_MARGIN_TOP, K_MARGIN_RIGHT, K_MARGIN_BOTTOM, K_MARGIN_LEFT]}\n      hoverDistance={K_HOVER_DISTANCE}\n      // distanceToMouse={this._distanceToMouse}\n      yesIWantToUseGoogleMapApiInternals\n      onGoogleApiLoaded={({ map, maps }) => {\n        googleMaps = maps\n        googleMap = map\n        directionsService = new maps.DirectionsService();\n\n        const polylineOptionsActual = new maps.Polyline({\n          strokeColor: \"#ffffff\",\n          strokeOpacity: 1.0,\n          strokeWeight: 4,\n        });\n        pinMarker = new maps.Marker({\n          map: map,\n          position: pin,\n          icon: { url: \"http://maps.google.com/mapfiles/ms/icons/red-dot.png\" },\n        });\n        circle = new maps.Circle({\n        strokeColor: \"#FF0000\",\n        strokeOpacity: 0.8,\n        strokeWeight: 1.2,\n        fillColor: \"#FF0000\",\n        fillOpacity: 0.20,\n        map,\n        center: pin,\n        radius: radius * 1000, \n        })\n        directionsDisplay = new maps.DirectionsRenderer({polylineOptions: polylineOptionsActual});\n        directionsDisplay.setMap(map);\n      }}\n      options={getMapOptions}\n    >\n      {Markers}\n    </GoogleMap>\n  );\n}\n\n//   // Initialize and add the map\n// function initMap() {\n//   // The location of finema as center location\n//   const finema = { lat: 13.72228113295553, lng: 100.56902534386684 };\n//   // The map, centered at finema\n//   const map = new google.maps.Map(document.getElementById(\"map\"), {\n//     zoom: 12,\n//     center: finema,\n//   });\n//   // The marker, positioned at finema\n//   const marker = new google.maps.Marker({\n//     position: finema,\n//     map: map,\n//   });\n\t\n//   const radius = 5 * 1000 // 5 km\n//   const circle = new google.maps.Circle({\n//       strokeColor: \"#FF0000\",\n//       strokeOpacity: 0.8,\n//       strokeWeight: 2,\n//       fillColor: \"#FF0000\",\n//       fillOpacity: 0.35,\n//       map,\n//       center: finema,\n//       radius: radius, \n//     });\n    \n//   var request = {\n//     location: finema,\n//     type: ['hospital'],\n//     radius: radius\n//   };\n//  \tinfowindow = new google.maps.InfoWindow();\n//   places = new google.maps.places.PlacesService(map);\n// \tplaces.nearbySearch(request, function(hospitals) {\n//  \t\tconsole.log(hospitals) // to see place object in console\t\n//     for (hospital of hospitals) {\n//     \tconsole.log(hospital)\n//     \tvar marker = new google.maps.Marker({\n//         \tmap: map,\n//         \tplace: {\n//             \tplaceId: hospital.place_id,\n//             \tlocation: hospital.geometry.location\n//         \t},\n//           icon: {\n//       \t\t\turl: \"http://maps.google.com/mapfiles/ms/icons/blue-dot.png\"\n//     \t\t\t}\n//     \t});\n//    }\n//   });\n// }","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport FilterFramesIcon from '@material-ui/icons/FilterFrames';\nimport RoomIcon from '@material-ui/icons/Room';\n\nconst useStyles = makeStyles({\n  root: {\n    // minWidth: 275,\n  },\n  bullet: {\n    display: 'inline-block',\n    margin: '0 2px',\n    transform: 'scale(0.8)',\n  },\n  title: {\n    fontSize: 14,\n  },\n  card: {\n    textAlign: 'left',\n    marginBottom: 0,\n    paddingBottom: 0\n  }\n});\n\nexport default function MapCard({ marker, onMarkerTagClick }) {\n  const classes = useStyles();\n  return (\n    <Card className={classes.root} variant=\"outlined\" style={{background: 'rgba(255,255,255,0.9)'}}>\n      <CardContent className={classes.card}>\n        <Grid container spacing={1}>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\" component=\"h2\" style={{ fontSize: 14 }}>\n              {marker.title}\n            </Typography>\n          </Grid>\n          <Grid item xs={9}>\n          <Typography className={classes.pos} variant=\"subtitle2\" color=\"textSecondary\" style={{ fontSize: 12 }}>\n            {marker.description}\n          </Typography>\n          <Typography variant=\"body2\" component=\"p\" style={{ fontSize: 12 }}>\n            {marker.address}\n          </Typography>\n          </Grid>\n          <Grid item xs={3} style={{ textAlign: 'right' }}>\n            <Button onClick={onMarkerTagClick}>\n            { marker.type > 9 ? <RoomIcon  style={{ color: marker.color }} />: <FilterFramesIcon style={{ color: marker.color, transform: 'rotateZ(180deg)' }}/> }\n            <Typography variant=\"h6\" component=\"h2\" style={{ fontSize: 14, color: marker.color }}>\n              {marker.number}\n            </Typography>\n            </Button>\n          </Grid>\n          </Grid>\n      </CardContent>\n    </Card>\n  );\n}\n","\nimport React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  selectPinLocation,\n  selectMapInfo,\n  selectRadius,\n  setPinLocation,\n  setRadius,\n  changeSearch,\n  selectSearch,\n  clearPinLocation,\n  selectMarkers,\n  selectDestination,\n  selectDestMarker,\n  clearDestination\n} from './MapSlice';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport FormControl from '@material-ui/core/FormControl';\nimport PinDropIcon from '@material-ui/icons/PinDrop';\nimport Paper from '@material-ui/core/Paper';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport InputBase from '@material-ui/core/InputBase';\nimport Divider from '@material-ui/core/Divider';\nimport IconButton from '@material-ui/core/IconButton';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport SearchIcon from '@material-ui/icons/Search';\nimport DirectionsIcon from '@material-ui/icons/Directions';\nimport Typography from '@material-ui/core/Typography';\nimport FilterFramesIcon from '@material-ui/icons/FilterFrames';\nimport RoomIcon from '@material-ui/icons/Room';\nimport CancelIcon from '@material-ui/icons/Cancel';\nimport MapCard from './MapCard';\n\nimport { hasPinAndMarkersInRadius } from './helpers/get_markers_data';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    margin: '10px',\n    flexGrow: 1,\n  },\n  paper: {\n    padding: theme.spacing(2),\n    textAlign: 'left',\n    color: theme.palette.text.secondary,\n  },\n  paperCenterTight: {\n    padding: 0,\n    textAlign: 'left',\n    color: theme.palette.text.secondary,\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    width: '80%'\n  },\n  iconButton: {\n    padding: 10,\n  },\n}));\n\n\n\nexport function MapPanel() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const mapInfo = useSelector(selectMapInfo)\n  const radius = useSelector(selectRadius)\n  const search = useSelector(selectSearch)\n  const pin = useSelector(selectPinLocation)\n  const destMarker = useSelector(selectDestMarker)\n  const markers = useSelector(selectMarkers)\n\n  const markersInRadius = markers\n    .filter(hasPinAndMarkersInRadius(pin, radius))\n  const Cards = markersInRadius\n    .filter((marker) => {\n      const searches = search.split(' ')\n      return searches.reduce((acc, s) => {\n        return acc && (marker.title.includes(s) || marker.description.includes(s) || marker.address.includes(s) || marker.number.toString().includes(s))\n      }, true)\n    })\n    .map((marker, idx) => (\n    <div>\n      <MapCard key={idx} marker={marker} onMarkerTagClick={(ev) => dispatch(selectDestination(marker))}/>\n      <br/>\n    </div>\n  ));\n  const totalMarkers = markersInRadius.length\n  const totalFiltered = Cards.length\n  return (\n    <div className={classes.root}>\n      <Grid container spacing={3}>\n        <Grid item xs={12}>\n          <Paper className={classes.paper}>\n            <InputLabel fullWidth>\n              <PinDropIcon color=\"secondary\" /> Pin Location\n            </InputLabel>\n            <Input\n              placeholder={mapInfo.center.lat}\n              value={pin.lat}\n              onChange={(e) => dispatch(setPinLocation({ ...pin, lat: e.target.value }))}\n              startAdornment={\n                <InputAdornment position=\"start\">lat:</InputAdornment>\n              }\n            />\n            <Input\n              placeholder={mapInfo.center.lng}\n              value={pin.lng}\n              onChange={(e) => dispatch(setPinLocation({ ...pin, lng: e.target.value }))}\n              startAdornment={\n                <InputAdornment position=\"start\">lng:</InputAdornment>\n              }\n            />\n            <br/>\n            <br/>\n            <Input\n                value={radius}\n                onChange={(e) => dispatch(setRadius(e.target.value))}\n                startAdornment={\n                  <InputAdornment position=\"start\">Radius (Km):</InputAdornment>\n                }\n              />\n              &nbsp;\n              &nbsp;\n              &nbsp;\n            <Button variant=\"contained\" color=\"primary\" onClick={(e) => dispatch(clearPinLocation())}>\n              Clear\n            </Button>\n          </Paper>\n          <br />\n          <Grid item xs={12}>\n            <Paper className={classes.paperCenterTight}>\n              <IconButton\n                className={classes.iconButton}\n                aria-label=\"search\"\n              >\n                <SearchIcon />\n              </IconButton>\n              <InputBase\n                className={classes.input}\n                placeholder=\"Search markers within radius...\"\n                value={search}\n                onChange={e => dispatch(changeSearch(e.target.value))}\n                inputProps={{ \"aria-label\": \"search google maps\" }}\n              endAdornment={<InputAdornment position=\"end\">{totalFiltered} ({totalMarkers})</InputAdornment>}\n              />\n            </Paper>\n          </Grid>\n        </Grid>\n      </Grid>\n      <div style={{ overflowY: 'auto', height: totalFiltered > 5 ? '720px' :'100%', margin: '10px', textAlign: 'left'}}>\n        {\n          (destMarker ? (<Button style={{ backgroundColor: destMarker.color, marginBottom: '10px'}} onClick={(ev) => dispatch(clearDestination(destMarker))}>\n            { destMarker.type > 9 ? <RoomIcon  style={{ color: 'white'}} />: <FilterFramesIcon style={{ color: 'white' , transform: 'rotateZ(180deg)' }}/> }\n            <Typography variant=\"h6\" component=\"h2\" style={{ fontSize: 14, color: 'white'}}>\n              {destMarker.number}\n            </Typography>\n            <CancelIcon style={{ color: 'white' }} />\n            </Button>): \"\")\n        }\n        {Cards}\n      </div>\n    </div>\n  );\n}","import React from 'react';\r\nimport logo from './logo.svg';\r\nimport { Counter } from './features/counter/Counter';\r\nimport { MapBlock } from './features/map/MapBlock';\r\nimport { MapPanel } from './features/map/MapPanel';\r\nimport './App.css';\r\nimport './sass/app.sass';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App\">\r\n      <div style={{height: '100%', position: 'relative', overflow: 'hidden'}}>\r\n        <div style={{position: 'absolute', left: 0, top: 0, width: '100%', height: '100%'}}>\r\n          <MapBlock />\r\n        </div>\r\n        <div style={{position: 'absolute', right: 0, top: 0, width: '30%' }}>\r\n          <MapPanel />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n/* <header className=\"App-header\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n        <Counter />\r\n        <p>\r\n          Edit <code>src/App.js</code> and save to reload.\r\n        </p>\r\n        <span>\r\n          <span>Learn </span>\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://reactjs.org/\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            React\r\n          </a>\r\n          <span>, </span>\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://redux.js.org/\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Redux\r\n          </a>\r\n          <span>, </span>\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://redux-toolkit.js.org/\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            Redux Toolkit\r\n          </a>\r\n          ,<span> and </span>\r\n          <a\r\n            className=\"App-link\"\r\n            href=\"https://react-redux.js.org/\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n          >\r\n            React Redux\r\n          </a>\r\n        </span>\r\n      </header> */","import { configureStore } from '@reduxjs/toolkit';\r\nimport counterReducer from '../features/counter/counterSlice';\r\nimport mapReducer from '../features/map/MapSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    counter: counterReducer,\r\n    map: mapReducer\r\n  },\r\n});\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport { Provider } from 'react-redux';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}